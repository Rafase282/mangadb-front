"use strict";var api=api,user=user,token=token;function cleanMangas(){$(".list").empty(),$(".list2").empty(),$(".list3").empty(),$(".list4").empty()}function cleanUser(){$(".user-name").empty(),$(".user-email").empty(),$(".user-count").empty()}function mangaInfo(manga){var inputClass="input-"+window.s.slugify(manga.title),panelClass="panel-"+window.s.slugify(manga.title),dataChapter=[inputClass,manga.title,manga.id],dataDel=[panelClass,manga.title],title=window.s.titleize(manga.title),photo='<img class="activator thumbnail" src="'+manga.thumbnail+'"</img>',author='<span id="author"> <strong class="black-text">Author:</strong> '+window.s.titleize(manga.author)+"</span><br/>",status='<span id="status"> <strong class="black-text">Series Status:</strong> '+window.s.humanize(manga.seriesStatus)+"</span>&nbsp;&nbsp;",userStats='<span id="userStats"> <strong class="black-text">My Status:</strong> '+window.s.humanize(manga.userStatus)+"</span>",chapter='<span class="float-right"> <strong class="black-text">Current Chapter: </strong><a class="'+inputClass+'" href="'+manga.url+'" target="_blank">'+manga.chapter+"</a></span>&nbsp;&nbsp;&nbsp;",type='<span id="type"> <strong class="black-text">Type:</strong> '+window.s.humanize(manga.type)+"</span><br>",direction='<span id="direction"><strong class="black-text">Reading Direction:</strong> '+window.s.titleize(manga.direction)+"</span><br/>",altName='<span id="altName"> <strong class="black-text">Other Names:</strong> '+window.s.titleize(window.s.toSentence(manga.altName,", ",", "))+"</span><br/><br/>",categories='<span id="categories"> <strong class="black-text">Categories:</strong> '+window.s.titleize(window.s.toSentence(manga.categories,", ",", "))+"</span>",plot='<p id="plot"> <strong class="black-text">Plot:</strong> '+window.s.humanize(manga.plot)+"</p><br/><br/>";return'<div class="col s12 m6 manga-panel '+panelClass+'"><div class="card large" style="overflow: hidden;"><div class="card-image waves-effect waves-block waves-light color-Bp-light hoverable activator">'+photo+'</div><div class="card-content"> <span class="card-title activator black-text">'+title+'<i class="material-icons right">more_vert</i></span> <br>'+chapter+direction+'</div><div class="card-action">'+('<div class="row center-align"><div class="input-field.col.s12.m6">'+('<a class="btn tooltipped color-Bp-light" data-position="bottom" data-delay="50" data-tooltip="Delete Manga" onclick="delManga(\''+dataDel+'\')"><i class="material-icons">delete</i></a>')+('<a class="btn tooltipped color-Bp-light" data-position="bottom" data-delay="50" data-tooltip="Increase Chapter Number by One" onclick="oneUp(\''+dataChapter+'\')"><i class="material-icons">plus_one</i></a>')+('<a class="btn tooltipped color-Bp-light" data-position="bottom" data-delay="50" data-tooltip="Update Manga Information" href=\'/user/'+user.toLowerCase()+"/"+encodeURIComponent(manga.title)+'\'"><i class="material-icons">update</i></a>')+"</div></div>")+'</div><div class="card-reveal" style="display: none; transform: translateY(0px);"><span class="card-title black-text">'+title+'<br/><br/><i class="material-icons right">close</i></span> '+altName+author+status+userStats+type+categories+plot+"</div></div></div>"}function search(){0<$("#search").val().length?($(".manga-panel").css("display","none"),displayResults()):$(".manga-panel").css("display","block"),$("#search").unbind("keyup"),$("#search").keyup(search)}function displayResults(){var reg=new RegExp($("#search").val(),"ig");for(var manga in userMangas)(reg.test(userMangas[manga].title)||reg.test(userMangas[manga].altName)||reg.test(userMangas[manga].categories)||reg.test(userMangas[manga].author)||reg.test(userMangas[manga].seriesStatus)||reg.test(userMangas[manga].type))&&$(".panel-"+window.s.slugify(userMangas[manga].title)).css("display","block")}function previewThumbnail(){var img=$("#img-input").val();4<$("#img-input").val().length?$("#img").attr("src",img):$("#img").attr("src","../../images/kaneki1.jpg"),$("#img-input").unbind("keyup"),$("#img-input").keyup(previewThumbnail)}$("#search").keyup(search),$("#img-input").keyup(previewThumbnail);
