"use strict";var userMangas={},api=api,user=user,token=token,userObj={};function createManga(title,author,url,userStatus,type,categories,chapter,seriesStatus,plot,altName,direction,thumbnail,id){this.title=title,this.author=author,this.url=url,this.userStatus=userStatus,this.type=type,this.categories=categories,this.chapter=chapter,this.seriesStatus=seriesStatus,this.plot=plot,this.altName=altName,this.direction=direction,this.thumbnail=thumbnail,this.id=id}function getMangas(){var settings={async:!0,crossDomain:!0,url:api+"/mangas/"+user.toLowerCase(),method:"GET",headers:{"x-access-token":token}};$.ajax(settings).done(function(mangas){cleanMangas(),mangas.data.map(function(manga){var newManga=new createManga(manga.title,manga.author,manga.url,manga.userStatus,manga.type,manga.categories,manga.chapter,manga.seriesStatus,manga.plot,manga.altName,manga.direction,manga.thumbnail,manga._id);userMangas[manga.title]=newManga;var html=mangaInfo(newManga);"reading"===newManga.userStatus?$(".list2").append(html):"finished"===newManga.userStatus?$(".list3").append(html):"will read"===newManga.userStatus&&$(".list4").append(html),$(".list").append(html)}),$(".tooltipped").tooltip({delay:50})})}function getUserInfo(){var settings={async:!0,crossDomain:!0,url:api+"/users/"+user.toLowerCase(),method:"GET",headers:{"x-access-token":token}};$.ajax(settings).done(function(response){var userInfo=response.data[0];userObj.firstname=window.s.titleize(userInfo.firstname),userObj.lastname=window.s.titleize(userInfo.lastname),userObj.email=userInfo.email,userObj.count=Object.keys(userMangas).length;var userName='<span class="center-align"><h5 class="black-text">Full Name:</h5><h5> '+userObj.firstname+" "+userObj.lastname+"</h5></span>",userEmail='<span class="center-align"><h5 class="black-text">E-Mail:</h5><h5> '+userInfo.email+"</h5></span>",userCount='<span class="center-align"><h5 class="black-text">Total Manga Count:</h5><h5> '+userObj.count+"</h5></span>";cleanUser(),$(".user-name").append(userName),$(".user-email").append(userEmail),$(".user-count").append(userCount)})}$(document).ready(function(){$(".button-collapse").sideNav(),$(".modal-trigger").modal({dismissible:!0,opacity:.5,in_duration:300,ready:getUserInfo,out_duration:200}),window.location.pathname==="/user/"+user.toLowerCase()&&getMangas()});
